<html>

  <head>
    <title>Creating Blog Page</title>
    <link rel='stylesheet' href='/public/style.css' />
    <!-- linking boostrap css cdn  -->
    <link
      href='https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css'
      rel='stylesheet'
      integrity='sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3'
      crossorigin='anonymous'
    />
    <script src="./public/script.js"></script>
  </head>

  <body>
    <!-- NavBar -->
    <nav class='navbar navbar-expand-lg navbar-light bg-light'>
      <div class='container-lg'>
        <a class='navbar-brand me-5' href='/'>
          <img src='/public/assets/logo.png' alt='logo' />
        </a>
        <div class='collapse navbar-collapse' id='navbarNav'>
          <ul class='navbar-nav'>
            <li class='nav-item'>
              <a class='nav-link' href='/'>Home</a>
            </li>
            <li class='nav-item'>
              <a href='/blog' class='nav-link list-active'>Blog</a>
            </li>
          </ul>
          {{#if isLogin}}
          <ul class='navbar-nav ms-auto me-4'>
            <li class='nav-item'>
              <span class='nav-link me-4'>Halo, {{user.name}}</span>
            </li>
            <li class='nav-item'>
              <a href='/logout' class='nav-link'>Logout</a>
            </li>
          </ul>
          {{else}}
          <ul class='navbar-nav ms-auto me-4'>
            <li class='nav-item'>
              <a href='/register' class='nav-link'>Register</a>
            </li>
            <li class='nav-item'>
              <a class='nav-link' href='/login'>Login</a>
            </li>
          </ul>
          {{/if}}
        </div>
        <div class='d-flex contact-me'>
          <a href='/contact'> Contact Me </a>
        </div>
      </div>
    </nav>

    <!-- Blog list -->
    <div id='contents' class='blog-list'>

      {{#if isLogin}}
        <div class="text-end">
          <a href="/form-blog" class='btn text-white mb-4' style="background-color: orangered;">Add New Blog</a>
        </div>
      {{/if}}

      {{#unless blogs.length}}
        <div class="text-center mt-5 h1 bg-secondary py-5 rounded text-white">
          No data
        </div>
      {{/unless}}

      {{#each blogs}}
      <!-- dynamic content would be here -->
        <div class='blog-list-item'>
          <div class='blog-image'>
            <img
              src='/public/assets/blog-img.png'
              alt='Pasar Coding di Indonesia Dinilai Masih Menjanjikan'
            />
          </div>
          <div class='blog-content'>
              {{#if this.isLogin}}
                <div class='button-group'>
                  <a class='btn-edit'>Edit Post</a>
                  <a href="/delete-blog/{{this.id}}" class='btn-post'>Delete Blog</a>
                </div>
              {{/if}}
            <h1>
              <a  href="/blog-detail/{{this.id}}" target='_blank'>
                {{this.title}} 
              </a>
            </h1>
            <div class='detail-blog-content'>
              {{this.time}} | {{this.author}}
            </div>
            <p>
              {{this.content}}
            </p>
          </div>
        </div>
      {{/each}}

    </div>

  </body>

</html>